page {
  background-color: #121212;
  color: #e0e0e0;
  min-height: 100vh;
}

.container {
  padding: 40rpx;
  padding-top: 120rpx;
}

// ===== 加载状态 =====
.loading-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding-top: 200rpx;
  
  .loading-spinner {
    width: 60rpx;
    height: 60rpx;
    border: 4rpx solid #333;
    border-top-color: #8a6dff;
    border-radius: 50%;
    animation: spin 1s linear infinite;
  }
  
  .loading-text {
    margin-top: 20rpx;
    font-size: 28rpx;
    color: #666;
  }
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

// ===== 头部信息 =====
.header-section {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 30rpx;
  
  .date-badge {
    .date-text {
      font-size: 26rpx;
      color: #888;
    }
  }
  
  .mood-badge {
    display: flex;
    align-items: center;
    padding: 12rpx 24rpx;
    border-radius: 30rpx;
    font-size: 26rpx;
    
    .mood-icon {
      font-size: 32rpx;
      margin-right: 12rpx;
    }
  }
}

// ===== 标题 =====
.title-section {
  margin-bottom: 30rpx;
  
  .dream-title {
    font-size: 44rpx;
    font-weight: 700;
    color: #fff;
    line-height: 1.4;
    background: linear-gradient(135deg, #e0e0e0 0%, #a8a8a8 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }
}

// ===== 元数据 =====
.meta-section {
  background: rgba(255, 255, 255, 0.03);
  border-radius: 16rpx;
  padding: 24rpx;
  margin-bottom: 30rpx;
  
  .meta-item {
    display: flex;
    align-items: center;
    gap: 20rpx;
    
    .meta-label {
      font-size: 26rpx;
      color: #888;
      min-width: 100rpx;
    }
    
    .clarity-bar {
      flex: 1;
      height: 8rpx;
      background: #333;
      border-radius: 4rpx;
      overflow: hidden;
      
      .clarity-fill {
        height: 100%;
        border-radius: 4rpx;
        transition: width 0.3s;
      }
    }
    
    .clarity-value {
      font-size: 26rpx;
      color: #666;
      min-width: 60rpx;
      text-align: right;
    }
  }
}

// ===== 关键词 =====
.keywords-section {
  margin-bottom: 30rpx;
  
  .section-label {
    display: block;
    font-size: 24rpx;
    color: #666;
    margin-bottom: 16rpx;
    text-transform: uppercase;
    letter-spacing: 2rpx;
  }
  
  .keywords-list {
    display: flex;
    flex-wrap: wrap;
    gap: 16rpx;
    
    .keyword-tag {
      font-size: 26rpx;
      color: #8a6dff;
      background: rgba(138, 109, 255, 0.1);
      padding: 12rpx 24rpx;
      border-radius: 12rpx;
      border: 1px solid rgba(138, 109, 255, 0.2);
    }
  }
}

// ===== 内容区块 =====
.content-section, .analysis-section {
  margin-bottom: 40rpx;
  
  .section-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20rpx;
    
    .copy-btn {
      display: flex;
      align-items: center;
      padding: 12rpx 20rpx;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12rpx;
      
      .copy-icon {
        font-size: 28rpx;
        margin-right: 8rpx;
      }
      
      .copy-text {
        font-size: 24rpx;
        color: #888;
      }
      
      &:active {
        background: rgba(255, 255, 255, 0.1);
      }
    }
  }
  
  .section-label {
    display: block;
    font-size: 24rpx;
    color: #666;
    margin-bottom: 20rpx;
    text-transform: uppercase;
    letter-spacing: 2rpx;
  }
  
  .content-box, .analysis-box {
    background: rgba(255, 255, 255, 0.03);
    border-radius: 20rpx;
    padding: 32rpx;
    border: 1px solid rgba(255, 255, 255, 0.05);
    
    .content-text, .analysis-text {
      font-size: 30rpx;
      color: #d0d0d0;
      line-height: 1.8;
    }
  }
}

// ===== 思考过程 =====
.thought-box {
  background: #181818;
  border-radius: 16rpx;
  border: 1px solid #2a2a2a;
  border-left: 4rpx solid #8a6dff;
  margin-bottom: 24rpx;
  overflow: hidden;
  
  .thought-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 24rpx;
    background: #222;
    
    .thought-title {
      display: flex;
      align-items: center;
      font-size: 26rpx;
      color: #888;
      
      .brain-icon {
        color: #8a6dff;
        margin-right: 12rpx;
        font-size: 28rpx;
        animation: pulse 3s infinite;
      }
    }
    
    .toggle-icon {
      font-size: 24rpx;
      color: #666;
      transition: transform 0.3s;
      
      &.expanded {
        transform: rotate(180deg);
      }
    }
  }
  
  .thought-content {
    padding: 28rpx;
    font-size: 26rpx;
    color: #888;
    font-family: 'Courier New', monospace;
    line-height: 1.7;
    background: #151515;
    white-space: pre-wrap;
  }
}

@keyframes pulse {
  0%, 100% { opacity: 0.5; }
  50% { opacity: 1; }
}

// ===== 原型分布 =====
.archetype-section {
  margin-bottom: 40rpx;
  
  .section-label {
    display: block;
    font-size: 24rpx;
    color: #666;
    margin-bottom: 24rpx;
    text-transform: uppercase;
    letter-spacing: 2rpx;
  }
  
  .archetype-list {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 20rpx;
    
    .archetype-item {
      display: flex;
      align-items: center;
      gap: 16rpx;
      
      .archetype-name {
        font-size: 24rpx;
        color: #888;
        min-width: 80rpx;
      }
      
      .archetype-bar {
        flex: 1;
        height: 6rpx;
        background: #333;
        border-radius: 3rpx;
        overflow: hidden;
        
        .archetype-fill {
          height: 100%;
          background: linear-gradient(90deg, #8a6dff, #6e00ff);
          border-radius: 3rpx;
          transition: width 0.3s;
        }
      }
    }
  }
}

// ===== 操作按钮 =====
.action-section {
  display: flex;
  gap: 24rpx;
  margin-top: 40rpx;
  
  .share-btn, .delete-btn {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 28rpx;
    border-radius: 16rpx;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    
    &::after {
      border: none;
    }
    
    .btn-icon {
      font-size: 32rpx;
      margin-right: 12rpx;
    }
    
    .btn-text {
      font-size: 28rpx;
      color: #e0e0e0;
    }
    
    &:active {
      background: rgba(255, 255, 255, 0.1);
    }
  }
  
  .delete-btn {
    background: rgba(229, 115, 115, 0.1);
    border-color: rgba(229, 115, 115, 0.3);
    
    .btn-text {
      color: #E57373;
    }
    
    &:active {
      background: rgba(229, 115, 115, 0.2);
    }
  }
}

// ===== 安全区域适配 =====
@supports (padding-bottom: env(safe-area-inset-bottom)) {
  .container {
    padding-bottom: calc(40rpx + env(safe-area-inset-bottom));
  }
}
