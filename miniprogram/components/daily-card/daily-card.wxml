<!-- æ¯æ—¥å…±æ—¶æ€§å¡ç‰‡ç»„ä»¶ -->
<view class="card-overlay {{visible ? 'visible' : ''}}" bindtap="closeCard">
  <view class="card-container {{isFlipped ? 'flipped' : ''}}" bindtap="stopPropagation">
    
    <!-- å¡ç‰‡æ­£é¢ï¼ˆæœªç¿»å¼€ï¼‰ -->
    <view class="card-face card-front" wx:if="{{!hasDrawn}}">
      <view class="card-pattern"></view>
      <view class="card-content">
        <view class="card-icon">ğŸ´</view>
        <view class="card-title">æ¯æ—¥å…±æ—¶æ€§å¡ç‰‡</view>
        <view class="card-desc">æŠ½å–ä¸€å¼ æ¥è‡ªæ½œæ„è¯†çš„æŒ‡å¼•</view>
        <view class="draw-btn {{isDrawing ? 'drawing' : ''}}" bindtap="drawCard">
          <text wx:if="{{!isDrawing}}">æŠ½å–å¡ç‰‡</text>
          <text wx:else>æŠ½å–ä¸­...</text>
        </view>
      </view>
    </view>
    
    <!-- å¡ç‰‡èƒŒé¢ï¼ˆå·²ç¿»å¼€ï¼‰ -->
    <view class="card-face card-back" wx:if="{{todayCard}}">
      <view class="card-header" style="background: {{todayCard.color}}20; border-color: {{todayCard.color}}40;">
        <view class="card-type-icon" style="background: {{todayCard.color}}">{{todayCard.icon}}</view>
        <view class="card-meta">
          <text class="card-type">{{todayCard.typeName}}å¡</text>
          <text class="card-date">{{todayCard.date}}</text>
        </view>
      </view>
      
      <view class="card-body">
        <view class="card-title">{{todayCard.title}}</view>
        <view class="card-message">{{todayCard.content}}</view>
        <view class="card-advice">
          <view class="advice-label">ä»Šæ—¥æŒ‡å¼•</view>
          <view class="advice-text">{{todayCard.advice}}</view>
        </view>
      </view>
      
      <view class="card-footer">
        <view class="action-btn share" bindtap="shareCard">
          <text class="btn-icon">â†—</text>
          <text>åˆ†äº«</text>
        </view>
        <view class="action-btn close" bindtap="closeCard">
          <text class="btn-icon">âœ“</text>
          <text>æ”¶ä¸‹</text>
        </view>
      </view>
    </view>
    
  </view>
</view>
